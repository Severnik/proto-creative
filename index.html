<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#FFFFFF">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <title>My Listings - Promotion Flow</title>
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icons/icon-192.png">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="app">
        <!-- Screen: My Listings (B1) -->
        <div id="screen-my-listings" class="screen active">
            <div class="status-bar">
                <span class="time">9:30</span>
                <div class="status-icons">
                    <div class="status-dot"></div>
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M1 9l2 2c4.97-4.97 13.03-4.97 18 0l2-2C16.93 2.93 7.08 2.93 1 9zm8 8l3 3 3-3c-1.65-1.66-4.34-1.66-6 0zm-4-4l2 2c2.76-2.76 7.24-2.76 10 0l2-2C15.14 9.14 8.87 9.14 5 13z"/></svg>
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33v15.33C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V5.33C17 4.6 16.4 4 15.67 4z"/></svg>
                </div>
            </div>
            <div class="top-app-bar">
                <h1 class="title">My ads</h1>
                <div class="toolbar-actions">
                    <button class="upload-btn-circle" onclick="navigateTo('screen-select-promotion')" title="Promotion">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                            <path d="M12 4V16M12 4L8 8M12 4L16 8" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M4 17V19C4 20.1046 4.89543 21 6 21H18C19.1046 21 20 20.1046 20 19V17" stroke="white" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                    </button>
                    <button class="icon-btn" onclick="openFiltersModal()" title="Filters">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path d="M4 6H20" stroke="#1D2023" stroke-width="2" stroke-linecap="round"/>
                            <path d="M4 12H20" stroke="#1D2023" stroke-width="2" stroke-linecap="round"/>
                            <path d="M4 18H20" stroke="#1D2023" stroke-width="2" stroke-linecap="round"/>
                            <circle cx="7" cy="6" r="2" fill="white" stroke="#1D2023" stroke-width="1.5"/>
                            <circle cx="17" cy="12" r="2" fill="white" stroke="#1D2023" stroke-width="1.5"/>
                            <circle cx="11" cy="18" r="2" fill="white" stroke="#1D2023" stroke-width="1.5"/>
                        </svg>
                    </button>
                </div>
            </div>

            <div class="filters-section">
                <div class="filter-dropdown-field" onclick="openCategoryDropdown()">
                    <div class="dropdown-indicator"></div>
                    <span id="category-display">All categories</span>
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                        <path d="M6 9L12 15L18 9" stroke="#949494" stroke-width="2"/>
                    </svg>
                </div>
                <div class="filter-row">
                    <div class="filter-dropdown-small" onclick="openStatusDropdown()">
                        <span id="status-display">All status</span>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                            <path d="M6 9L12 15L18 9" stroke="#949494" stroke-width="2"/>
                        </svg>
                    </div>
                    <div class="filter-dropdown-small" onclick="openPromotionDropdown()">
                        <span id="promotion-display">Promotion</span>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                            <path d="M6 9L12 15L18 9" stroke="#949494" stroke-width="2"/>
                        </svg>
                    </div>
                </div>
            </div>

            <div class="sort-control">
                <div class="select-all">
                    <input type="checkbox" id="select-all-main" class="checkbox">
                    <label for="select-all-main">Select all</label>
                </div>
                <div class="sorting" onclick="openSortModal()">
                    <span id="sort-display">Sort</span>
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                        <path d="M6 9L12 15L18 9" stroke="#1D2023" stroke-width="2"/>
                    </svg>
                </div>
            </div>

            <!-- Smart Suggestions Section -->
            <div class="smart-suggestions-section" id="smart-suggestions">
                <div class="suggestions-header">
                    <span class="suggestions-icon">üí°</span>
                    <h3 class="suggestions-title">–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—å</h3>
                </div>
                <div class="suggestions-carousel" id="suggestions-carousel">
                    <!-- Suggestions will be injected here -->
                </div>
            </div>

            <!-- Package Offer Section -->
            <div class="package-offer-section" id="package-wrapper-main">
                <h2 class="package-offer-title">Package offer</h2>
                <!-- Package Health Bar -->
                <div class="package-health-card" onclick="navigateTo('screen-package-apply')">
                    <div class="package-health-header">
                        <div class="package-health-icon">üîã</div>
                        <div class="package-health-info">
                            <div class="package-health-name">VIP for 5 days</div>
                            <div class="package-health-category">Motors ‚Ä∫ Cars</div>
                        </div>
                        <div class="chevron">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <path d="M9 6L15 12L9 18" stroke="#949494" stroke-width="2"/>
                            </svg>
                        </div>
                    </div>
                    <div class="package-health-battery">
                        <div class="battery-visual">
                            <div class="battery-segments">
                                <div class="battery-segment filled"></div>
                                <div class="battery-segment filled"></div>
                                <div class="battery-segment filled"></div>
                                <div class="battery-segment filled"></div>
                                <div class="battery-segment"></div>
                            </div>
                            <div class="battery-cap"></div>
                        </div>
                        <div class="battery-text">
                            <span class="battery-count" id="battery-count">5/5</span>
                            <span class="battery-label">–æ—Å—Ç–∞–ª–æ—Å—å</span>
                        </div>
                    </div>
                    <div class="package-health-footer">
                        <div class="health-timer">
                            <span class="timer-icon">‚è∞</span>
                            <span class="timer-text">–ò—Å—Ç–µ–∫–∞–µ—Ç —á–µ—Ä–µ–∑ 12 –¥–Ω–µ–π</span>
                        </div>
                        <div class="health-tip" id="health-tip">
                            <span class="tip-icon">üí°</span>
                            <span class="tip-text">–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞ –ø—Ä–µ–º–∏—É–º-–∞–≤—Ç–æ</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="listings-list" id="listings-main">
                <!-- Listings will be injected here -->
            </div>

            <div class="sticky-button" id="promotion-btn" style="display: none;">
                <button class="primary-btn" onclick="navigateTo('screen-select-promotion')">
                    Promotion to <span id="selected-count">0</span> ads
                </button>
            </div>
        </div>

        <!-- Category Dropdown Modal -->
        <div id="category-dropdown" class="dropdown-modal" style="display: none;">
            <div class="dropdown-overlay" onclick="closeCategoryDropdown()"></div>
            <div class="dropdown-content">
                <div class="dropdown-option selected" data-value="" onclick="selectCategory('')">
                    <span>All categories</span>
                    <svg class="check-icon" width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M5 12L10 17L19 8" stroke="#0066FF" stroke-width="2" stroke-linecap="round"/></svg>
                </div>
                <div class="dropdown-option" data-value="motors" onclick="selectCategory('motors')">
                    <span>Motors</span>
                    <svg class="check-icon" width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M5 12L10 17L19 8" stroke="#0066FF" stroke-width="2" stroke-linecap="round"/></svg>
                </div>
                <div class="dropdown-option" data-value="property" onclick="selectCategory('property')">
                    <span>Property</span>
                    <svg class="check-icon" width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M5 12L10 17L19 8" stroke="#0066FF" stroke-width="2" stroke-linecap="round"/></svg>
                </div>
                <div class="dropdown-option" data-value="electronics" onclick="selectCategory('electronics')">
                    <span>Electronics</span>
                    <svg class="check-icon" width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M5 12L10 17L19 8" stroke="#0066FF" stroke-width="2" stroke-linecap="round"/></svg>
                </div>
            </div>
        </div>

        <!-- Status Dropdown Modal -->
        <div id="status-dropdown" class="dropdown-modal" style="display: none;">
            <div class="dropdown-overlay" onclick="closeStatusDropdown()"></div>
            <div class="dropdown-content">
                <div class="dropdown-option selected" data-value="" onclick="selectStatus('')">
                    <span>All status</span>
                    <svg class="check-icon" width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M5 12L10 17L19 8" stroke="#0066FF" stroke-width="2" stroke-linecap="round"/></svg>
                </div>
                <div class="dropdown-option" data-value="active" onclick="selectStatus('active')">
                    <span>Active</span>
                    <svg class="check-icon" width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M5 12L10 17L19 8" stroke="#0066FF" stroke-width="2" stroke-linecap="round"/></svg>
                </div>
                <div class="dropdown-option" data-value="pending" onclick="selectStatus('pending')">
                    <span>Pending</span>
                    <svg class="check-icon" width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M5 12L10 17L19 8" stroke="#0066FF" stroke-width="2" stroke-linecap="round"/></svg>
                </div>
                <div class="dropdown-option" data-value="expired" onclick="selectStatus('expired')">
                    <span>Expired</span>
                    <svg class="check-icon" width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M5 12L10 17L19 8" stroke="#0066FF" stroke-width="2" stroke-linecap="round"/></svg>
                </div>
            </div>
        </div>

        <!-- Promotion Dropdown Modal -->
        <div id="promotion-dropdown" class="dropdown-modal" style="display: none;">
            <div class="dropdown-overlay" onclick="closePromotionDropdown()"></div>
            <div class="dropdown-content">
                <div class="dropdown-option selected" data-value="" onclick="selectPromotion('')">
                    <span>All promotions</span>
                    <svg class="check-icon" width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M5 12L10 17L19 8" stroke="#0066FF" stroke-width="2" stroke-linecap="round"/></svg>
                </div>
                <div class="dropdown-option" data-value="vip" onclick="selectPromotion('vip')">
                    <span>VIP</span>
                    <svg class="check-icon" width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M5 12L10 17L19 8" stroke="#0066FF" stroke-width="2" stroke-linecap="round"/></svg>
                </div>
                <div class="dropdown-option" data-value="top" onclick="selectPromotion('top')">
                    <span>TOP</span>
                    <svg class="check-icon" width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M5 12L10 17L19 8" stroke="#0066FF" stroke-width="2" stroke-linecap="round"/></svg>
                </div>
                <div class="dropdown-option" data-value="none" onclick="selectPromotion('none')">
                    <span>No promotion</span>
                    <svg class="check-icon" width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M5 12L10 17L19 8" stroke="#0066FF" stroke-width="2" stroke-linecap="round"/></svg>
                </div>
            </div>
        </div>

        <!-- Filters Screen (Full Screen Modal) -->
        <div id="filters-modal" class="screen" style="display: none;">
            <div class="status-bar">
                <span class="time">9:30</span>
                <div class="status-icons">
                    <div class="status-dot"></div>
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M1 9l2 2c4.97-4.97 13.03-4.97 18 0l2-2C16.93 2.93 7.08 2.93 1 9zm8 8l3 3 3-3c-1.65-1.66-4.34-1.66-6 0zm-4-4l2 2c2.76-2.76 7.24-2.76 10 0l2-2C15.14 9.14 8.87 9.14 5 13z"/></svg>
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33v15.33C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V5.33C17 4.6 16.4 4 15.67 4z"/></svg>
                </div>
            </div>
            <div class="top-app-bar">
                <button class="icon-btn back-btn" onclick="closeFiltersModal()">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M15 18L9 12L15 6" stroke="#1D2023" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
                <h1 class="title">More filters</h1>
                <button class="text-btn" onclick="resetFilters()">Clear</button>
            </div>

            <div class="filters-form">
                <div class="filter-section">
                    <label class="filter-label">Keywords search</label>
                    <input type="text" id="filter-keyword" class="filter-input" placeholder="Enter keywords here">
                </div>

                <div class="filter-section">
                    <label class="filter-label">Location</label>
                    <div class="filter-dropdown-row">
                        <span id="filter-location-display">All Cyprus</span>
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path d="M9 6L15 12L9 18" stroke="#949494" stroke-width="2"/>
                        </svg>
                    </div>
                </div>

                <div class="filter-section">
                    <label class="filter-label">Phone number</label>
                    <div class="filter-dropdown-row">
                        <span>All numbers</span>
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path d="M9 6L15 12L9 18" stroke="#949494" stroke-width="2"/>
                        </svg>
                    </div>
                </div>

                <div class="filter-section">
                    <label class="filter-label">Price</label>
                    <div class="filter-price-row">
                        <input type="text" id="filter-price-from" class="filter-input-half" placeholder="From">
                        <input type="text" id="filter-price-to" class="filter-input-half" placeholder="To">
                    </div>
                </div>
            </div>

            <div class="sticky-button">
                <button class="primary-btn" onclick="applyFilters()">Apply</button>
            </div>
        </div>

        <!-- Sort Modal -->
        <div id="sort-modal" class="modal-overlay" style="display: none;">
            <div class="modal-content sort-modal">
                <div class="modal-header">
                    <h2>Sort by</h2>
                    <button class="icon-btn" onclick="closeSortModal()">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path d="M18 6L6 18M6 6L18 18" stroke="#1D2023" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="sort-option" onclick="selectSort('date-desc')">
                        <span>Newest first</span>
                        <div class="radio selected" id="sort-date-desc"></div>
                    </div>
                    <div class="sort-option" onclick="selectSort('date-asc')">
                        <span>Oldest first</span>
                        <div class="radio" id="sort-date-asc"></div>
                    </div>
                    <div class="sort-option" onclick="selectSort('price-asc')">
                        <span>Price: Low to High</span>
                        <div class="radio" id="sort-price-asc"></div>
                    </div>
                    <div class="sort-option" onclick="selectSort('price-desc')">
                        <span>Price: High to Low</span>
                        <div class="radio" id="sort-price-desc"></div>
                    </div>
                    <div class="sort-option" onclick="selectSort('views-desc')">
                        <span>Most viewed</span>
                        <div class="radio" id="sort-views-desc"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Screen: Select Promotion (B2) -->
        <div id="screen-select-promotion" class="screen">
            <div class="status-bar">
                <span class="time">9:30</span>
                <div class="status-icons">
                    <div class="status-dot"></div>
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M1 9l2 2c4.97-4.97 13.03-4.97 18 0l2-2C16.93 2.93 7.08 2.93 1 9zm8 8l3 3 3-3c-1.65-1.66-4.34-1.66-6 0zm-4-4l2 2c2.76-2.76 7.24-2.76 10 0l2-2C15.14 9.14 8.87 9.14 5 13z"/></svg>
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33v15.33C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V5.33C17 4.6 16.4 4 15.67 4z"/></svg>
                </div>
            </div>
            <div class="top-app-bar-promotion">
                <button class="icon-btn back-btn" onclick="navigateTo('screen-my-listings')">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M15 18L9 12L15 6" stroke="#1D2023" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
                <div class="title-group-left">
                    <h1 class="title-promotion">Promotion</h1>
                    <span class="subtitle-promotion">My ads</span>
                </div>
            </div>

            <div class="promotion-content">
                <!-- Quick Bundles Section -->
                <div class="bundles-section">
                    <div class="bundles-header">
                        <h3 class="bundles-title">üöÄ –ë—ã—Å—Ç—Ä—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏</h3>
                        <p class="bundles-subtitle">–û–¥–∏–Ω –∫–ª–∏–∫ ‚Äî –æ–ø—Ç–∏–º–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è</p>
                    </div>
                    <div class="bundles-grid">
                        <div class="bundle-card" onclick="applyBundle('fast-sale')">
                            <div class="bundle-icon">üî•</div>
                            <div class="bundle-content">
                                <div class="bundle-name">–ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–¥–∞–∂–∞</div>
                                <div class="bundle-desc">VIP –Ω–∞ 3 —Å–∞–º—ã—Ö –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ–º—ã—Ö</div>
                            </div>
                            <div class="bundle-action">
                                <span class="bundle-count">3 ads</span>
                            </div>
                        </div>
                        <div class="bundle-card" onclick="applyBundle('premium')">
                            <div class="bundle-icon">üíé</div>
                            <div class="bundle-content">
                                <div class="bundle-name">–ü—Ä–µ–º–∏—É–º –≤–∏—Ç—Ä–∏–Ω–∞</div>
                                <div class="bundle-desc">TOP –Ω–∞ –≤—Å–µ –∞–≤—Ç–æ >‚Ç¨50k</div>
                            </div>
                            <div class="bundle-action">
                                <span class="bundle-count">7 ads</span>
                            </div>
                        </div>
                        <div class="bundle-card" onclick="applyBundle('refresh')">
                            <div class="bundle-icon">üîÑ</div>
                            <div class="bundle-content">
                                <div class="bundle-name">–û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ä—ã–µ</div>
                                <div class="bundle-desc">Update –Ω–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏—è >7 –¥–Ω–µ–π</div>
                            </div>
                            <div class="bundle-action">
                                <span class="bundle-count">12 ads</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Package offer Section -->
                <div class="promo-section">
                    <div class="promo-section-header">
                        <h2 class="promo-section-title">Package offer</h2>
                        <p class="promo-section-subtitle">Promote ads corresponding to packages</p>
                    </div>

                    <!-- Package Card 1 -->
                    <div class="promo-package-card" onclick="navigateTo('screen-package-apply')">
                        <div class="promo-package-content">
                            <div class="promo-package-name">VIP for 5 days</div>
                            <div class="promo-package-details">
                                <span class="promo-package-type">VIP for 5 days</span>
                                <span class="promo-package-category">Motors ‚Ä£ Cars</span>
                            </div>
                            <div class="promo-package-meta">
                                <span class="promo-package-expiry warning">Until 31 January</span>
                                <span class="promo-package-usage">Ads used: 0/5</span>
                            </div>
                        </div>
                        <div class="promo-package-right">
                            <svg class="promo-chevron" width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <path d="M9 6L15 12L9 18" stroke="#949494" stroke-width="2"/>
                            </svg>
                        </div>
                    </div>

                    <!-- Package Card 2 -->
                    <div class="promo-package-card" onclick="navigateTo('screen-package-apply')">
                        <div class="promo-package-content">
                            <div class="promo-package-name">Present package for our good friends</div>
                            <div class="promo-package-details">
                                <span class="promo-package-type">TopAd for 5 days</span>
                                <span class="promo-package-category">Motors ‚Ä£ Car rentals</span>
                            </div>
                            <div class="promo-package-meta">
                                <span class="promo-package-expiry">Until 17 July</span>
                                <span class="promo-package-usage">Ads used: 0/5</span>
                            </div>
                        </div>
                        <div class="promo-package-right">
                            <svg class="promo-chevron" width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <path d="M9 6L15 12L9 18" stroke="#949494" stroke-width="2"/>
                            </svg>
                        </div>
                    </div>
                </div>

                <!-- Payable from wallet Section -->
                <div class="promo-section">
                    <div class="promo-section-header">
                        <h2 class="promo-section-title">Payable from your wallet</h2>
                        <p class="promo-section-subtitle">Ads that are not included in the package promotion</p>
                    </div>

                    <!-- VIP Card -->
                    <div class="promo-wallet-card" onclick="navigateTo('screen-wallet-apply')">
                        <div class="promo-wallet-content">
                            <div class="promo-wallet-badge vip">VIP</div>
                            <div class="promo-wallet-description">Updates listing date to increase visibility</div>
                        </div>
                        <svg class="promo-chevron" width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path d="M9 6L15 12L9 18" stroke="#949494" stroke-width="2"/>
                        </svg>
                    </div>

                    <!-- TOP Card -->
                    <div class="promo-wallet-card" onclick="navigateTo('screen-wallet-apply')">
                        <div class="promo-wallet-content">
                            <div class="promo-wallet-badge top">TOP</div>
                            <div class="promo-wallet-description">Updates listing date to increase visibility</div>
                        </div>
                        <svg class="promo-chevron" width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path d="M9 6L15 12L9 18" stroke="#949494" stroke-width="2"/>
                        </svg>
                    </div>

                    <!-- Update Card -->
                    <div class="promo-wallet-card" onclick="navigateTo('screen-wallet-apply')">
                        <div class="promo-wallet-content">
                            <div class="promo-wallet-label">Update</div>
                            <div class="promo-wallet-description">Updates listing date to increase visibility</div>
                        </div>
                        <svg class="promo-chevron" width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path d="M9 6L15 12L9 18" stroke="#949494" stroke-width="2"/>
                        </svg>
                    </div>
                </div>
            </div>
        </div>

        <!-- Screen: Package Apply (B3) -->
        <div id="screen-package-apply" class="screen">
            <div class="status-bar">
                <span class="time">9:30</span>
                <div class="status-icons">
                    <div class="status-dot"></div>
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M1 9l2 2c4.97-4.97 13.03-4.97 18 0l2-2C16.93 2.93 7.08 2.93 1 9zm8 8l3 3 3-3c-1.65-1.66-4.34-1.66-6 0zm-4-4l2 2c2.76-2.76 7.24-2.76 10 0l2-2C15.14 9.14 8.87 9.14 5 13z"/></svg>
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33v15.33C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V5.33C17 4.6 16.4 4 15.67 4z"/></svg>
                </div>
            </div>
            <div class="top-app-bar with-subtitle">
                <button class="icon-btn back-btn" onclick="navigateTo('screen-select-promotion')">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M15 18L9 12L15 6" stroke="#1D2023" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
                <div class="title-group">
                    <h1 class="title">VIP for 5 days</h1>
                    <span class="subtitle">Ads used: 0/5</span>
                </div>
                <div style="width: 40px;"></div>
            </div>

            <!-- Progress Indicator Section -->
            <div class="progress-section" id="package-progress-section">
                <div class="progress-info">
                    <span class="progress-label" id="progress-label">Ads used:</span>
                    <span class="progress-count" id="progress-count">0/5</span>
                </div>
                <div class="progress-bar-container">
                    <div class="progress-bar-fill" id="progress-bar-fill" style="width: 0%;"></div>
                    <div class="progress-bar-track"></div>
                    <div class="progress-bar-stop"></div>
                </div>
            </div>

            <div class="sort-control">
                <div class="select-all">
                    <input type="checkbox" id="select-all-package" class="checkbox">
                    <label for="select-all-package">Select all</label>
                </div>
                <div class="sorting" onclick="openSortModal()">
                    <span>Sort</span>
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                        <path d="M6 9L12 15L18 9" stroke="#1D2023" stroke-width="2"/>
                    </svg>
                </div>
            </div>

            <div class="listings-list" id="listings-package">
                <!-- Listings will be injected here -->
            </div>

            <div class="sticky-button">
                <button class="primary-btn" id="apply-package-btn" onclick="applyPromotion('package')">
                    Apply VIP to <span id="package-selected-count">0</span> ads
                </button>
            </div>
        </div>

        <!-- Screen: Wallet Apply -->
        <div id="screen-wallet-apply" class="screen">
            <div class="status-bar">
                <span class="time">9:30</span>
                <div class="status-icons">
                    <div class="status-dot"></div>
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M1 9l2 2c4.97-4.97 13.03-4.97 18 0l2-2C16.93 2.93 7.08 2.93 1 9zm8 8l3 3 3-3c-1.65-1.66-4.34-1.66-6 0zm-4-4l2 2c2.76-2.76 7.24-2.76 10 0l2-2C15.14 9.14 8.87 9.14 5 13z"/></svg>
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33v15.33C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V5.33C17 4.6 16.4 4 15.67 4z"/></svg>
                </div>
            </div>
            <div class="top-app-bar with-subtitle">
                <button class="icon-btn back-btn" onclick="navigateTo('screen-select-promotion')">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M15 18L9 12L15 6" stroke="#1D2023" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
                <div class="title-group">
                    <h1 class="title">VIP</h1>
                    <span class="subtitle">‚Ç¨2.50 per ad</span>
                </div>
                <div style="width: 40px;"></div>
            </div>

            <!-- Wallet Balance Section -->
            <div class="wallet-balance-section">
                <div class="wallet-balance-row">
                    <span class="wallet-balance-label">Wallet balance:</span>
                    <span class="wallet-balance-value">‚Ç¨25.00</span>
                </div>
                <div class="wallet-total-row">
                    <span class="wallet-total-label">Total cost:</span>
                    <span class="wallet-total-value" id="wallet-total-display">‚Ç¨0.00</span>
                </div>
            </div>

            <div class="sort-control">
                <div class="select-all">
                    <input type="checkbox" id="select-all-wallet" class="checkbox">
                    <label for="select-all-wallet">Select all</label>
                </div>
                <div class="sorting">
                    <span>Sort</span>
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                        <path d="M6 9L12 15L18 9" stroke="#1D2023" stroke-width="2"/>
                    </svg>
                </div>
            </div>

            <div class="listings-list" id="listings-wallet">
                <!-- Listings will be injected here -->
            </div>

            <div class="sticky-button">
                <button class="primary-btn" id="apply-wallet-btn" onclick="applyPromotion('wallet')">
                    Apply VIP to <span id="wallet-selected-count">0</span> ads ¬∑ ‚Ç¨<span id="wallet-total">0.00</span>
                </button>
            </div>
        </div>

        <!-- Confirmation Dialog Modal -->
        <div id="confirm-modal" class="modal-overlay" style="display: none;">
            <div class="modal-content confirm-modal">
                <div class="confirm-modal-body">
                    <h2 class="confirm-title">Apply VIP to <span id="confirm-count">3</span> ads?</h2>
                    <div class="confirm-details">
                        <div class="confirm-row">
                            <span class="confirm-label">Package:</span>
                            <span class="confirm-value" id="confirm-package">VIP for 5 days</span>
                        </div>
                        <div class="confirm-row">
                            <span class="confirm-label">Remaining after:</span>
                            <span class="confirm-value" id="confirm-remaining">2/5</span>
                        </div>
                    </div>
                </div>
                <div class="confirm-modal-footer">
                    <button class="secondary-btn" onclick="closeConfirmModal()">Cancel</button>
                    <button class="primary-btn confirm-btn" onclick="confirmApplyPromotion()">Apply</button>
                </div>
            </div>
        </div>

        <!-- Screen: Success -->
        <div id="screen-success" class="screen">
            <div class="status-bar">
                <span class="time">9:30</span>
                <div class="status-icons">
                    <div class="status-dot"></div>
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M1 9l2 2c4.97-4.97 13.03-4.97 18 0l2-2C16.93 2.93 7.08 2.93 1 9zm8 8l3 3 3-3c-1.65-1.66-4.34-1.66-6 0zm-4-4l2 2c2.76-2.76 7.24-2.76 10 0l2-2C15.14 9.14 8.87 9.14 5 13z"/></svg>
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33v15.33C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V5.33C17 4.6 16.4 4 15.67 4z"/></svg>
                </div>
            </div>
            <div class="top-app-bar">
                <h1 class="title">My ads</h1>
                <div class="toolbar-actions">
                    <button class="upload-btn-circle" onclick="navigateTo('screen-select-promotion')" title="Promotion">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                            <path d="M12 4V16M12 4L8 8M12 4L16 8" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M4 17V19C4 20.1046 4.89543 21 6 21H18C19.1046 21 20 20.1046 20 19V17" stroke="white" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                    </button>
                    <button class="icon-btn has-badge" title="Filters">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path d="M4 6H20" stroke="#1D2023" stroke-width="2" stroke-linecap="round"/>
                            <path d="M4 12H20" stroke="#1D2023" stroke-width="2" stroke-linecap="round"/>
                            <path d="M4 18H20" stroke="#1D2023" stroke-width="2" stroke-linecap="round"/>
                            <circle cx="7" cy="6" r="2" fill="white" stroke="#1D2023" stroke-width="1.5"/>
                            <circle cx="17" cy="12" r="2" fill="white" stroke="#1D2023" stroke-width="1.5"/>
                            <circle cx="11" cy="18" r="2" fill="white" stroke="#1D2023" stroke-width="1.5"/>
                        </svg>
                        <span class="toolbar-badge"></span>
                    </button>
                </div>
            </div>

            <div class="filters-section">
                <div class="filter-dropdown-field">
                    <div class="dropdown-indicator"></div>
                    <span>All categories</span>
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                        <path d="M6 9L12 15L18 9" stroke="#949494" stroke-width="2"/>
                    </svg>
                </div>
                <div class="filter-row">
                    <div class="filter-dropdown-small">
                        <span>All status</span>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                            <path d="M6 9L12 15L18 9" stroke="#949494" stroke-width="2"/>
                        </svg>
                    </div>
                    <div class="filter-dropdown-small">
                        <span>Promotion</span>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                            <path d="M6 9L12 15L18 9" stroke="#949494" stroke-width="2"/>
                        </svg>
                    </div>
                </div>
            </div>

            <div class="sort-control">
                <div class="select-all">
                    <input type="checkbox" id="select-all-success" class="checkbox">
                    <label for="select-all-success">Select all</label>
                </div>
                <div class="sorting">
                    <span>Sort</span>
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                        <path d="M6 9L12 15L18 9" stroke="#1D2023" stroke-width="2"/>
                    </svg>
                </div>
            </div>

            <div class="listings-list" id="listings-success">
                <!-- Listings will be injected here -->
            </div>

            <div class="snackbar" id="snackbar">
                <span id="snackbar-text">VIP applied to 3 ads</span>
                <button class="snackbar-undo" onclick="undoPromotion()">Undo</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
